
<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <link rel="manifest" href="/manifest.json?v=2" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="PlannerSystem" />
    <meta name="apple-mobile-web-app-title" content="PlannerSystem" />
    
    <!-- SEO Essencial -->
    <meta name="keywords" content="gestão de eventos, sistema de eventos, folha de pagamento eventos, controle de pessoal, gestão freelancers, software eventos, planejamento eventos, Brasil">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <link rel="canonical" href="https://plannersystem.com.br/">
    <meta http-equiv="content-language" content="pt-BR">
    
    <!-- Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="preload" href="/icons/icon-512x512.png" as="image" type="image/png">
    <script>
      (function() {
        try {
          var isStandalone = window.matchMedia && window.matchMedia('(display-mode: standalone)').matches;
          var nav = (typeof window !== 'undefined' && window.navigator) ? window.navigator : {};
          var isIOSStandalone = (typeof nav === 'object' && 'standalone' in nav) ? (nav.standalone === true) : false; // iOS Safari
          var isDebugParam = (typeof window !== 'undefined' && window.location && window.location.search.indexOf('pwa=1') !== -1);
          if (isStandalone || isIOSStandalone || isDebugParam) {
            document.documentElement.classList.add('is-pwa');
          }
        } catch (e) {}
      })();
    </script>
    <style>
      /* CSS Crítico do Splash - Restaurado e Aprimorado para evitar FOUC e garantir centralização */
      #splash { 
        position: fixed; 
        inset: 0; 
        display: none; /* Oculto por padrão para navegadores normais */
        align-items: center; 
        justify-content: center; 
        z-index: 9999; 
        color: #fff; 
        background: linear-gradient(135deg, #63B3FF 0%, #0979FF 100%); 
        background-size: 300% 300%; 
        animation: splashGradient 6s ease-in-out infinite; 
      }
      
      /* Exibir apenas em modo PWA */
      .is-pwa #splash { display: flex; }
      @media (display-mode: standalone) { #splash { display: flex; } }
      
      /* Dark mode */
      @media (prefers-color-scheme: dark) {
        #splash { background: linear-gradient(135deg, #0B1F36 0%, #0A4FCC 100%); }
      }
      
      #splash::before { 
        content: ""; 
        position: absolute; 
        inset: 0; 
        background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.06), transparent), radial-gradient(800px 400px at 90% 80%, rgba(0,0,0,0.08), transparent); 
        pointer-events: none; 
      }
      
      .splash-inner { 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        justify-content: center; /* Garante centralização vertical do conteúdo */
        gap: 16px; 
        padding: 24px 28px; 
        border-radius: 16px; 
        backdrop-filter: blur(12px); 
        background: rgba(255,255,255,0.08); 
        box-shadow: 0 20px 60px rgba(0,0,0,0.25); 
        animation: fadeIn 480ms ease-out both; 
        max-width: 90%; /* Evita estouro em telas muito pequenas */
      }
      
      .splash-logo { 
        width: 160px; 
        height: auto; 
        filter: drop-shadow(0 8px 24px rgba(0,0,0,0.25)); 
        transform: translateY(0); 
        animation: logoPop 540ms cubic-bezier(.2,.8,.2,1) both; 
      }
      
      .splash-spinner { 
        width: 36px; 
        height: 36px; 
        border-radius: 9999px; 
        background: conic-gradient(from 0deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.9) 25%, rgba(255,255,255,0.0) 100%); 
        mask: radial-gradient(circle at center, transparent 58%, black 60%); 
        -webkit-mask: radial-gradient(circle at center, transparent 58%, black 60%);
        animation: spin 900ms linear infinite; 
      }
      
      .splash-progress { 
        display: none; 
        width: 320px; 
        height: 10px; 
        background: rgba(255,255,255,0.25); 
        border-radius: 9999px; 
        overflow: hidden; 
      }
      
      .splash-progress-bar { 
        width: 40%; 
        height: 100%; 
        background: linear-gradient(90deg, rgba(255,255,255,0.95), rgba(255,255,255,0.65)); 
        border-radius: inherit; 
        animation: progress 1.1s ease-in-out infinite; 
        will-change: transform; 
      }
      
      @keyframes splashGradient { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
      @keyframes spin { to { transform: rotate(360deg); } }
      @keyframes progress { 0% { transform: translateX(-110%); } 50% { transform: translateX(10%); } 100% { transform: translateX(120%); } }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
      @keyframes logoPop { 0% { opacity: 0; transform: scale(.96) translateY(6px); } 100% { opacity: 1; transform: scale(1) translateY(0); } }
      
      /* Responsividade */
      @media (max-width: 767px) { 
        .splash-spinner, .splash-progress { display: none !important; } 
        .splash-inner { gap: 8px; padding: 18px 20px; } 
        .splash-logo { width: 140px; } 
      }
      @media (min-width: 768px) { 
        .splash-logo { width: 180px; } 
        .splash-spinner { display: block; } 
        .splash-progress { display: block; width: 320px; height: 10px; } 
      }
      @media (min-width: 1024px) { 
        .splash-logo { width: 210px; } 
        .splash-progress { width: 420px; height: 12px; } 
        .splash-progress-bar { animation-duration: 900ms; } 
      }
      
      /* Botão de emergência */
      .emergency-reset-btn { 
        position: fixed; 
        top: 50%; 
        left: 50%; 
        transform: translate(-50%, -50%); 
        padding: 16px 32px; 
        font-size: 16px; 
        font-family: system-ui, sans-serif; 
        background: #0979FF; 
        color: white; 
        border: none; 
        border-radius: 8px; 
        cursor: pointer; 
        z-index: 99999; 
        box-shadow: 0 4px 20px rgba(0,0,0,0.3); 
      }
    </style>
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/icons/plannersystem-logo.svg?v=20251210">
    <link rel="shortcut icon" href="/icons/plannersystem-logo.svg?v=20251210">
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png?v=20251210">
    <link rel="mask-icon" href="/icons/plannersystem-logo.svg?v=20251210" color="#0979FF">
    
    <meta name="theme-color" content="#0979FF">
    <title>PlannerSystem - Sistema Completo de Gestão de Eventos</title>
    <meta name="description" content="Gerencie eventos, equipes e folha de pagamento em uma plataforma única. Controle total de pessoal, custos e relatórios detalhados. Experimente grátis!" />
    <meta name="author" content="PlannerSystem Team" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:url" content="https://plannersystem.com.br/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:site_name" content="PlannerSystem">
    <meta property="og:title" content="PlannerSystem - Sistema Completo de Gestão de Eventos">
    <meta property="og:description" content="Gerencie eventos, equipes e folha de pagamento em uma plataforma única. Controle total de pessoal, custos e relatórios detalhados. Experimente grátis!">
    <meta property="og:image" content="https://plannersystem.com.br/icons/icon-512x512.png?v=20251210">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:alt" content="PlannerSystem - Sistema de Gestão de Eventos">

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@plannersystem">
    <meta name="twitter:creator" content="@plannersystem">
    <meta name="twitter:title" content="PlannerSystem - Sistema Completo de Gestão de Eventos">
    <meta name="twitter:description" content="Gerencie eventos, equipes e folha de pagamento em uma plataforma única. Controle total de pessoal, custos e relatórios detalhados.">
    <meta name="twitter:image" content="https://plannersystem.com.br/icons/icon-512x512.png?v=20251210">
    <meta name="twitter:image:alt" content="PlannerSystem - Sistema de Gestão de Eventos">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "@id": "https://plannersystem.com.br/#organization",
          "name": "PlannerSystem",
          "url": "https://plannersystem.com.br",
          "logo": {
            "@type": "ImageObject",
            "url": "https://plannersystem.com.br/icons/icon-512x512.png",
            "width": 512,
            "height": 512
          },
          "description": "Sistema completo para gestão de eventos, equipes e folha de pagamento",
          "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer support",
            "availableLanguage": ["pt-BR"]
          }
        },
        {
          "@type": "WebSite",
          "@id": "https://plannersystem.com.br/#website",
          "url": "https://plannersystem.com.br",
          "name": "PlannerSystem",
          "publisher": {
            "@id": "https://plannersystem.com.br/#organization"
          },
          "inLanguage": "pt-BR"
        },
        {
          "@type": "SoftwareApplication",
          "name": "PlannerSystem",
          "applicationCategory": "BusinessApplication",
          "operatingSystem": "Web, iOS, Android",
          "offers": {
            "@type": "AggregateOffer",
            "priceCurrency": "BRL",
            "lowPrice": "0",
            "highPrice": "299"
          },
          "description": "Sistema SaaS para gestão completa de eventos com controle de pessoal, folha de pagamento automatizada, gestão de fornecedores e relatórios analíticos em tempo real.",
          "featureList": [
            "Gestão de Eventos",
            "Controle de Pessoal",
            "Folha de Pagamento Automatizada",
            "Gestão de Fornecedores",
            "Relatórios Detalhados",
            "Dashboard Analítico"
          ]
        }
      ]
    }
    </script>
  </head>

  <body>
    <!-- Splash screen -->
    <div id="splash" aria-live="polite" aria-busy="true">
      <div class="splash-inner">
        <img src="/icons/plannersystem-logo.svg?v=20251210" alt="PlannerSystem" class="splash-logo" />
        <div class="splash-spinner" aria-label="Carregando"></div>
        <div class="splash-progress" aria-hidden="true"><div class="splash-progress-bar"></div></div>
      </div>
    </div>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Botão de emergência se o app não carregar -->
    <script>
      (function() {
        window.__appLoaded = false;
        setTimeout(function() {
          if (!window.__appLoaded) {
            console.error('⚠️ App não carregou em 15s, mostrando botão de reset');
            var resetBtn = document.createElement('button');
            resetBtn.innerText = 'Limpar Cache e Recarregar';
            resetBtn.id = 'emergency-reset-btn';
            resetBtn.className = 'emergency-reset-btn';
            resetBtn.onclick = function() {
              resetBtn.innerText = 'Limpando...';
              resetBtn.disabled = true;
              // Limpar caches
              if ('caches' in window) {
                caches.keys().then(function(keys) {
                  keys.forEach(function(k) { caches.delete(k); });
                });
              }
              // Desregistrar Service Workers
              if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(regs) {
                  regs.forEach(function(r) { r.unregister(); });
                });
              }
              // Limpar storage
              try { localStorage.clear(); } catch(e) {}
              try { sessionStorage.clear(); } catch(e) {}
              // Recarregar após limpeza
              setTimeout(function() { location.reload(); }, 500);
            };
            document.body.appendChild(resetBtn);
          }
        }, 15000);
      })();
    </script>
  </body>
</html>
